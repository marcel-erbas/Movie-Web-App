{% extends "base.html" %}
{% block content %}
<div class="profile-selection">
    <h2>Select Profile</h2>

    <ul class="user-list">
        {% for user in users %}
        <li class="user-entry">
            <!-- Link wraps the entire profile block -->
            <a href="{{ url_for('user_movies', user_id=user.id) }}">
                <div class="profile-icon">
                    <span style="color: white; font-size: 2rem;">^_^</span>
                </div>
                <span class="profile-name">{{ user.name }}</span>
            </a>

            <!-- Delete Button -->
            <form action="{{ url_for('delete_user', user_id=user.id) }}" method="post" style="margin-top: 5px;"
                onsubmit="return confirm('Are you sure you want to delete this profile?');">
                <button type="submit" class="btn-danger"
                    style="font-size: 0.6rem; padding: 2px 5px; border: none; color: #555;">DELETE</button>
            </form>
        </li>
        {% endfor %}
    </ul>

    <div class="add-user-container">
        <form action="{{ url_for('add_user') }}" method="post">
            <input type="text" name="name" placeholder="Add Profile Name" required>
            <button type="submit" class="btn" style="background: transparent; border: 1px solid grey; color: grey;">ADD
                PROFILE</button>
        </form>
    </div>
</div>
{% endblock %}